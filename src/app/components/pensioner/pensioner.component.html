<div class="pensioner-page-container">
    
    <header class="pensioner-header">
        <h1>Galería de Honor</h1>
        <p>Un reconocimiento a quienes han dedicado su talento y años de servicio a nuestra gran familia. ¡Gracias por tanto!</p>
    </header>

    <main class="pensioner-content">
        <!-- Columna Izquierda: Lista de Pensionados -->
        <div class="pensioner-list-column">
            <div class="pensioner-card" *ngFor="let pensioner of pensioners" (click)="openModal(pensioner)">
                <img [src]="pensioner.photoUrl" [alt]="'Foto de ' + pensioner.name" class="photo">
                <div class="info">
                    <h3 class="name">{{ pensioner.name }}</h3>
                    <p class="last-role">{{ pensioner.lastRole }}</p>
                    <span class="years">{{ pensioner.yearsOfService }} años de servicio</span>
                </div>
            </div>
        </div>

        <!-- Columna Derecha: Galería de Fotos -->
        <div class="pensioner-gallery-column">
            <!-- Imagen Principal -->
            <div class="gallery-main-image" *ngIf="selectedGalleryImage">
                <img [src]="selectedGalleryImage.url" [alt]="selectedGalleryImage.alt">
            </div>

            <!-- Carrusel de Miniaturas --> 
            <div class="thumbnail-carousel">
                <button class="thumbnail-nav-button prev" (click)="scrollThumbnails('prev')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
                </button>
                <div #thumbnailTrack class="thumbnail-viewport">
                    <div class="gallery-thumbnails">
                        <div class="thumbnail" 
                             *ngFor="let image of galleryImages" 
                             (click)="selectImage(image)"
                             [class.active]="image.id === selectedGalleryImage?.id">
                            <img [src]="image.url" [alt]="image.alt">
                            
                        </div>
                    </div>
                </div>
                <button class="thumbnail-nav-button next" (click)="scrollThumbnails('next')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </button>
            </div>
        </div>
    </main>
</div>


<!-- Modal para ver la información detallada del pensionado -->
<div class="modal-backdrop" *ngIf="isModalVisible" (click)="closeModal()">
    <div class="modal-container" [class.is-closing]="isModalClosing" (click)="$event.stopPropagation()">
        
        <div class="modal-header">
            <button type="button" class="close-button" (click)="closeModal()" aria-label="Cerrar">&times;</button>
        </div>
        
        <div class="modal-body" *ngIf="selectedPensioner">
            <img [src]="selectedPensioner.photoUrl" [alt]="'Foto de ' + selectedPensioner.name" class="modal-photo">
            <h2 class="modal-name">{{ selectedPensioner.name }}</h2>
            <p class="modal-info">{{ selectedPensioner.lastRole }} • {{ selectedPensioner.yearsOfService }} años de servicio</p>
            <p class="modal-message">"{{ selectedPensioner.farewellMessage }}"</p>
        </div>

    </div>
</div>
