<body>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Overlay de carga -->
  <div *ngIf="loading" class="loading-overlay">
    <div class="official-logo-animation"></div>
  </div>

  <!-- Header siempre visible -->
  <div class="team-header">
      <h1>ORGANIGRAMA</h1>
      <p>Buscamos el mejor talento para la organización</p>
  </div>
  
  <!-- Contenido principal -->
  <div class="team-page-container">
      <div class="org-main-layout">
          <!-- Organigrama -->
          <div class="org-container" [class.loading-blur]="loading">
              <!-- SVG para dibujar las líneas conectoras -->
              <svg class="org-lines" viewBox="0 0 1100 850" preserveAspectRatio="none">
                  <!-- Director a Jefe -->
                  <path d="M 550 850 V 610" />
                  <!-- Jefe a Coordinadores -->
                  <!----><path d="M 270 360 V 580 H 800" />
                  <!----><path d="M 830 370 V 580 H 500" />

                  <!-- LINEA HORIZONTAL DE ASISTENTE A ANALISTA DE ATRACCION -->
                  <path d="M 400 150 H 175" />
                  
                  <!-- De coordinadora a interseccion de asistente y analista -->
                  <!--<path d="M 130 170 V 60" /> -->
                  <path d="M 267 390 V 150 H 210" />

                  <!-- L que baja al Analista de Bienestar -->
                  <path d="M 832 305 V 140" />

                  <!-- Línea que baja al Aprendiz -->
                  <path d="M 1030 140 H 775" />

              </svg>

              <!-- Todas las tarjetas de miembro se colocan aquí, sin listas anidadas -->
              <div
                  id="director-general"
                  class="member-card"
                  (click)="selectMember('director-general')"
                  [class.selected]="selectedMember === 'director-general'"
              >
                  <img src="./assets/images/team/frank.jpeg" alt="personaje" class="photo" />
                  <h3 class="name">Frank Medina</h3>
                  <p class="role">Director General</p>
              </div>

              <div
                  id="jefe-cultura"
                  class="member-card"
                  (click)="selectMember('jefe-cultura')"
                  [class.selected]="selectedMember === 'jefe-cultura'"
              >
                  <img src="./assets/images/team/Ximena.jpeg" alt="personaje" class="photo">
                  <h3 class="name">Ximena Garcés</h3>
                  <p class="role">Jefe de Cultura y Desarrollo</p>
              </div>

              <div
                  id="coord-atraccion"
                  class="member-card"
                  (click)="selectMember('coord-atraccion')"
                  [class.selected]="selectedMember === 'coord-atraccion'"
              >
                  <img src="./assets/images/team/Alexa.png" alt="personaje" class="photo">
                  <h3 class="name">M. Alexandra Valencia</h3>
                  <p class="role">Coordinadora de Atracción</p>
              </div>

              <div
                  id="coord-bienestar"
                  class="member-card"
                  (click)="selectMember('coord-bienestar')"
                  [class.selected]="selectedMember === 'coord-bienestar'"
              >
                  <img src="./assets/images/team/Diana.JPG" alt="personaje" class="photo">
                  <h3 class="name">Diana Katherine Ortega</h3>
                  <p class="role">Coord. Bienestar y Desarrollo</p>
              </div>
              
              <div
                  id="asistente-atraccion"
                  class="member-card"
                  (click)="selectMember('asistente-atraccion')"
                  [class.selected]="selectedMember === 'asistente-atraccion'"
              >
                  <img src="./assets/images/team/Adriana.png" alt="personaje" class="photo">
                  <h3 class="name">Adriana Maria Ordoñez</h3>
                  <p class="role">Asistente de Atracción</p>
              </div>

              <div
                  id="analista-atraccion"
                  class="member-card"
                  (click)="selectMember('analista-atraccion')"
                  [class.selected]="selectedMember === 'analista-atraccion'"
              >
                  <img src="./assets/images/team/lasso.png" alt="personaje" class="photo">
                  <h3 class="name">Esperanza Lasso E.</h3>
                  <p class="role">Analista de Atracción</p>
              </div>
            
              
              <div
                  id="analista-bienestar"
                  class="member-card"
                  (click)="selectMember('analista-bienestar')"
                  [class.selected]="selectedMember === 'analista-bienestar'"
              >
                  <img src="./assets/images/team/Yesid.png" alt="personaje" class="photo">
                  <h3 class="name">Yesid Ortiz Hernandez</h3>
                  <p class="role">Analista de Bienestar y Desarrollo</p>
              </div>

              <div
                  id="aprendiz-bienestar"
                  class="member-card"
                  (click)="selectMember('aprendiz-bienestar')"
                  [class.selected]="selectedMember === 'aprendiz-bienestar'"
              >
                  <img src="./assets/images/team/Claudia.png" alt="personaje" class="photo">
                  <h3 class="name">Claudia V. Casamachin</h3>
                  <p class="role">Aprendiz de Bienestar y Desarrollo</p>
              </div>
          </div>

          <!-- Panel de informacsssión (siempre visible) PRUEBA JIRA-->
          <div class="info-panel" [@panelAnimation]>
              <ng-container *ngIf="selectedMember; else generalInfo">
                  <img 
                      [src]="memberInfo[selectedMember]?.photo" 
                      [alt]="memberInfo[selectedMember]?.name" 
                      class="photo"
                  />
                  <h2>{{ memberInfo[selectedMember]?.name }}</h2>
                  <h4>{{ memberInfo[selectedMember]?.role }}</h4>
                  <p style="color:#333; font-size:1.05rem; margin-bottom:18px; min-height:48px;">{{ memberInfo[selectedMember]?.description }}</p>
                  <div class="info-list">
                      <div class="info-item">
                          <span class="info-icon"><i class="fas fa-envelope"></i></span>
                          <span><strong>Email:</strong> {{ memberInfo[selectedMember]?.email }}</span>
                      </div>
                      <div class="info-item">
                          <span class="info-icon"><i class="fas fa-phone"></i></span>
                          <span><strong>Teléfono:</strong> {{ memberInfo[selectedMember]?.phone }}</span>
                      </div>
                  </div>
                  <button (click)="selectedMember = null">Cerrar</button>
              </ng-container>
              <ng-template #generalInfo>
                  <div style="width:80px; height:80px; margin:0 auto 18px; display:flex; align-items:center; justify-content:center; border-radius:50%; background:#e0e8f3;">
                      <svg width="48" height="48" fill="#005A9C" viewBox="0 0 24 24">
                          <circle cx="12" cy="8" r="4"/>
                          <path d="M12 14c-5 0-8 2.5-8 4.5V21h16v-2.5c0-2-3-4.5-8-4.5z"/>
                      </svg>
                  </div>
                  <h3>Equipo de Cultura & Desarrollo</h3>
                  <h4>Conozca más del departamento</h4>
                  <p style="color:#333; font-size:1.05rem; margin-bottom:18px; min-height:48px;">
                      Selecciona un miembro del organigrama para ver su información detallada aquí.
                  </p>
                  <div class="info-list">
                      <div class="info-item">
                          <span>Conoce a nuestro equipo de trabajo y su estructura organizacional.</span>
                      </div>
                  </div>
              </ng-template>
          </div>
      </div>
  </div>

</body>